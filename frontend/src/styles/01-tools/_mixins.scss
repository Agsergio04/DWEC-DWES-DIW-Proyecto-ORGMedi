@use '../00-settings/variables' as *;

/**
 * MIXINS RESPONSIVE - ESTRATEGIA MOBILE-FIRST
 * ============================================
 * Todos los estilos se definen primero para mobile
 * Luego se expanden con @media queries para pantallas más grandes
 */

/**
 * Mixin para media queries - Mobile-First
 * Los estilos base son para mobile, y se usan estos mixins para expandir
 * 
 * Uso: @include tablet { ... }  // Se aplica a 768px y superior
 */
@mixin tablet {
  @media (min-width: $tablet) {
    @content;
  }
}

@mixin tablet-small {
  @media (min-width: $tablet-small) {
    @content;
  }
}

@mixin desktop-small {
  @media (min-width: $desktop-small) {
    @content;
  }
}

@mixin desktop {
  @media (min-width: $desktop) {
    @content;
  }
}

@mixin desktop-large {
  @media (min-width: $desktop-large) {
    @content;
  }
}

/**
 * Mixin para media queries máximas (desktop-first fallback)
 */
@mixin max-tablet {
  @media (max-width: #{$tablet - 1px}) {
    @content;
  }
}

@mixin max-desktop-small {
  @media (max-width: #{$desktop-small - 1px}) {
    @content;
  }
}

/**
 * Mixin para rangos de media queries
 */
@mixin between($breakpoint-min, $breakpoint-max) {
  @media (min-width: $breakpoint-min) and (max-width: #{$breakpoint-max - 1px}) {
    @content;
  }
}

/**
 * Mixin para Container Queries
 * Permite que los componentes sean responsive independientemente del viewport
 * 
 * Uso: @include container-query(20rem) { ... }
 */
@mixin container-query($width) {
  @container (min-width: $width) {
    @content;
  }
}

/**
 * Mixin para container-query completo
 */
@mixin container-responsive($property, $mobile-value, $tablet-value, $desktop-value) {
  #{$property}: $mobile-value;
  
  @include tablet {
    #{$property}: $tablet-value;
  }
  
  @include desktop {
    #{$property}: $desktop-value;
  }
}

/**
 * Mixin para botones de formularios (crear/editar medicamento)
 * Aplica estilos consistentes usando las variables del sistema.
 */
@mixin button-form(
  $bg: $color-primario-primary,
  $bg-hover: $color-primario-hover,
  $color: $color-texto_borde_cajas,
  $radius: $radius-md,
  $padding-x: $espaciado-24,
  $padding-y: $espaciado-12
) {
  background-color: $bg;
  color: $color;
  border: none;
  border-radius: $radius;
  padding: $padding-y $padding-x;
  font-family: $font-primary;
  font-size: $font-size-lg;
  font-weight: $font-weight-medium;
  cursor: pointer;
  transition: background-color $transition-normal;

  &:hover,
  &:focus {
    background-color: $bg-hover;
  }
}

/**
 * Mixin flex-layout
 * Permite crear contenedores flexibles de forma rápida y reutilizable
 */
@mixin flex-layout(
  $direction: row,
  $justify: flex-start,
  $align: center,
  $gap: 0
) {
  display: flex;
  flex-direction: $direction;
  justify-content: $justify;
  align-items: $align;
  gap: $gap;
}

/**
 * Mixin para cápsula de pastilla
 * Permite crear el estilo de la cápsula con color personalizable
 */
@mixin capsula-pastilla(
  $bg,
  $color: $color-texto_borde_cajas,
  $radius: $radius-md,
  $padding-x: $espaciado-16,
  $padding-y: $espaciado-8
) {
  background-color: $bg;
  color: $color;
  border-radius: $radius;
  padding: $padding-y $padding-x;
  font-family: $font-primary;
  font-size: $font-size-lg;
  font-weight: $font-weight-medium;
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
}
