<section class="calendar" role="application" aria-label="Calendario semanal de medicamentos">
  <!-- Encabezado con fecha actual -->
  <header class="calendar__header">
    <time 
      class="calendar__current-date"
      [attr.datetime]="getCurrentDateFormatted()"
      aria-live="polite"
    >
      {{ getCurrentDateFormatted() }}
    </time>
  </header>

  <!-- Navegación semanal -->
  <nav 
    class="calendar__week-container" 
    aria-label="Navegación de semanas y selección de días"
  >
    <!-- Botón semana anterior -->
    <button
      class="calendar__nav-btn calendar__nav-btn--prev"
      (click)="previousWeek()"
      aria-label="Ir a la semana anterior"
      type="button"
    >
      <span aria-hidden="true">‹</span>
    </button>

    <!-- Lista de días de la semana -->
    <ol class="calendar__week" role="group" aria-label="Días de la semana actual">
      <li
        *ngFor="let day of weekDays; trackBy: trackByDate"
        class="calendar__day-item"
      >
        <!-- Nombre del día -->
        <span class="calendar__day-name" aria-hidden="true">
          {{ day.dayName }}
        </span>

        <!-- Botón de selección de día -->
        <button
          [ngClass]="getDayClass(day)"
          (click)="selectDay(day)"
          type="button"
          [attr.aria-label]="getFullDayLabel(day)"
          [attr.aria-pressed]="isSelectedDay(day)"
          [attr.aria-current]="isToday(day) ? 'date' : null"
          [disabled]="!day.isCurrentMonth"
        >
          <time [attr.datetime]="day.date | date: 'yyyy-MM-dd'">
            {{ day.dayNumber }}
          </time>
        </button>
      </li>
    </ol>

    <!-- Botón semana siguiente -->
    <button
      class="calendar__nav-btn calendar__nav-btn--next"
      (click)="nextWeek()"
      aria-label="Ir a la próxima semana"
      type="button"
    >
      <span aria-hidden="true">›</span>
    </button>
  </nav>
</section>
