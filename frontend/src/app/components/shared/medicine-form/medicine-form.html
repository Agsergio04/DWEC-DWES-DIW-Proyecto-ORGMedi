<form class="medicine-form" [formGroup]="form" (ngSubmit)="onSubmit()" *ngIf="formInitialized && form">

  <!-- Nombre del Medicamento -->
  <div class="form-group">
    <label class="form-label">Introduce el nombre del medicamento:</label>
    <input
      type="text"
      class="form-input"
      formControlName="nombre"
      placeholder="Nombre del medicamento"
      [disabled]="isSubmitting"
      required
    />
  </div>

  <!-- Cantidad en Mg -->
  <div class="form-group">
    <label class="form-label">Introduce la cantidad del medicamento:</label>
    <input
      type="text"
      class="form-input"
      formControlName="cantidadMg"
      placeholder="Cantidad(En Mg)"
      [disabled]="isSubmitting"
      required
    />
  </div>

  <!-- Hora de Inicio -->
  <div class="form-group">
    <label class="form-label">Introduce la hora de inicio:</label>
    <input
      type="time"
      class="form-input"
      formControlName="horaInicio"
      placeholder="Hora de inicio(08:00 AM)"
      [disabled]="isSubmitting"
      required
    />
  </div>

  <!-- Fecha de Inicio con SVG -->
  <div class="form-group date-input-group">
    <label class="form-label">Introduce la fecha de inicio cuando la vas a tomar:</label>
    <div class="date-input-wrapper">
      <input
        type="date"
        class="form-input date-input"
        formControlName="fechaInicio"
        [disabled]="isSubmitting"
        required
      />Fecha Inici(dd/mm/yyyy)
    </div>
  </div>

  <!-- Fecha de Fin con SVG -->
  <div class="form-group date-input-group">
    <label class="form-label">Introduce la fecha de fin cuando la vas a acabar de tomar:</label>
    <div class="date-input-wrapper">
      <input
        type="date"
        class="form-input date-input"
        formControlName="fechaFin"
        [disabled]="isSubmitting"
      />Fecha Inici(dd/mm/yyyy)
    </div>
  </div>

  <!-- Selectores de Frecuencia y Color -->
  <div class="selectors-row">
    <div class="selector-group">
      <label class="form-label">Seleccione la frecuencia de consumo de la pastilla:</label>
      <app-data-input-selector
        [options]="frequencyOptions"
        [selectedOption]="selectedFrequency"
        [type]="'text'"
        [disabled]="isSubmitting"
        placeholder="Selecciona cada cuanto"
        (optionSelected)="onFrequencySelected($event)">
      </app-data-input-selector>
    </div>

    <div class="selector-group">
      <label class="form-label">Selecciona el color de la pastilla :</label>
      <app-data-input-selector
        [options]="colorOptions"
        [selectedOption]="selectedColor"
        [type]="'color'"
        [disabled]="isSubmitting"
        placeholder="Selecciona un color"
        (optionSelected)="onColorSelected($event)">
      </app-data-input-selector>
    </div>
  </div>

  <!-- Botones de Acción -->
  <div class="form-actions">
    <app-button
      variant="secondary"
      [width]="'20rem'"
      [height]="'3rem'"
      [disabled]="isSubmitting"
      (clicked)="onCancel()"
    >
      {{ cancelButtonText }}
    </app-button>

    <app-button
      variant="primary"
      [width]="'20rem'"
      [height]="'3rem'"
      [disabled]="isSubmitting || !form?.valid"
      (clicked)="onSubmit()"
    >
      {{ submitButtonText }}
    </app-button>
  </div>

</form>

<!-- Cargar mensaje si formulario no está inicializado -->
<div *ngIf="!formInitialized" class="loading-message">
  Inicializando formulario...
</div>
