<article class="medicine-card" [class.medicine-card--expired]="isExpired" [class.medicine-card--expiring]="isExpiring">
  <div class="medicine-card__container">
    <!-- ===== HEADER: Icono + Título + Botón Borrar ===== -->
    <div class="medicine-card__header">
      <!-- Icono de píldora (SVG) con color dinámico -->
      <div class="medicine-card__icon" [style.--medicine-color]="medicine.color || '#D97BBF'">
        <img src="/Icono Medicamento.svg" alt="Medicamento" class="medicine-card__icon-img">
      </div>
      
      <!-- Título del medicamento (con color dinámico) -->
      <h3 class="medicine-card__title" [style.--medicine-color]="medicine.color || '#D97BBF'">
        {{ medicine.name }}
      </h3>
      
      <!-- Botón de borrar -->
      <button class="medicine-card__delete-btn" 
              aria-label="Borrar medicamento"
              (click)="onDelete()">
        <img src="/Icono Editar.svg" alt="Editar" class="medicine-card__delete-icon">
      </button>
    </div>

    <!-- ===== INFORMACIÓN EN DOS FILAS ===== -->
    <div class="medicine-card__info-grid">
      <!-- Fila 1: Cantidad y Frecuencia -->
      <div class="medicine-card__info-row">
        <div class="medicine-card__info-item">
          <svg class="medicine-card__info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="9" width="18" height="12" rx="2"/>
            <path d="M9 9V6a3 3 0 0 1 6 0v3"/>
          </svg>
          <span class="medicine-card__label">Cantidad :</span>
          <span class="medicine-card__value">{{ medicine.dosage }}</span>
        </div>

        <div class="medicine-card__info-item">
          <svg class="medicine-card__info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
          </svg>
          <span class="medicine-card__label">Frecuencia :</span>
          <span class="medicine-card__value">{{ medicine.frequency }}</span>
        </div>
      </div>

      <!-- Fila 2: Fecha Inicio y Fecha Fin -->
      <div class="medicine-card__info-row">
        <div class="medicine-card__info-item">
          <svg class="medicine-card__info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2"/>
            <path d="M16 2v4M8 2v4M3 10h18"/>
          </svg>
          <span class="medicine-card__label">Fecha Inicio :</span>
          <span class="medicine-card__value">{{ medicine.startDate }}</span>
        </div>

        <div class="medicine-card__info-item">
          <svg class="medicine-card__info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2"/>
            <path d="M16 2v4M8 2v4M3 10h18"/>
          </svg>
          <span class="medicine-card__label">Fecha Fin :</span>
          <span class="medicine-card__value">{{ medicine.endDate || '-' }}</span>
        </div>
      </div>
    </div>
  </div>
</article>