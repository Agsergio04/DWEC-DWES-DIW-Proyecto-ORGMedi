<section class="accordion" role="region" aria-label="Contenido desplegable">
  <article
    *ngFor="let item of items; trackBy: trackById; let i = index"
    class="accordion__item"
    [class.accordion__item--expanded]="isExpanded(item.id)"
  >
    <h3 class="accordion__heading">
      <button
        #accordionButton
        class="accordion__header"
        [disabled]="item.disabled"
        (click)="toggleItem(item.id)"
        (keydown)="onKeyDown($event, i)"
        [attr.aria-expanded]="isExpanded(item.id)"
        [attr.aria-controls]="item.id"
        [attr.disabled]="item.disabled"
        type="button"
      >
        <span class="accordion__title">{{ item.title }}</span>
        <span class="accordion__icon" aria-hidden="true">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </span>
      </button>
    </h3>

    <div
      class="accordion__content"
      *ngIf="isExpanded(item.id)"
      [attr.id]="item.id"
      role="region"
      [attr.aria-labelledby]="'accordion-header-' + item.id"
    >
      <ng-content></ng-content>
      {{ item.content }}
    </div>
  </article>
</section>

