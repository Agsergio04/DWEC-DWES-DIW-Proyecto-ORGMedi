<section class="page page--create-medicine">
  <article class="page__container">
    <!-- Encabezado -->
    <header class="create-medicine__title-section">
      <h1>{{ ocrData ? 'Revisar Medicamento (OCR)' : 'Crear Medicamento' }}</h1>
      <p class="create-medicine__description">
        {{ ocrData ? 'Verifica y edita los datos extra√≠dos de la foto' : 'Aqui podras gestionar cuando has consumido los medicamentos' }}
      </p>
    </header>

    <!-- Componente formulario -->
    <main class="create-medicine__form">
      <app-medicine-form
        [isSubmitting]="saving"
        [initialData]="ocrData ? {
          nombre: ocrData.nombre,
          cantidadMg: ocrData.cantidad || 0,
          horaInicio: ocrData.horaInicio || '',
          fechaInicio: ocrData.fechaInicio || '',
          fechaFin: ocrData.fechaFin || '',
          frecuencia: 2
        } : null"
        [submitButtonText]="ocrData ? 'Guardar desde OCR' : 'Crear medicamento'"
        cancelButtonText="Cancelar"
        (formSubmit)="onFormSubmit($event)"
        (formCancel)="onFormCancel()">
      </app-medicine-form>
    </main>

    <!-- Mensaje de error -->
    <aside *ngIf="error" class="error-message" role="alert" aria-live="assertive">
      {{ error.message }}
    </aside>
  </article>
</section>

