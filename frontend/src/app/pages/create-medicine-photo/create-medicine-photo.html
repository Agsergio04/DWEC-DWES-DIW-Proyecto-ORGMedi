<section class="page page--create-medicine-photo">
  <!-- Paso 1: Captura de foto -->
  <app-crear-medicamento-foto
    *ngIf="photoStep"
    [isProcessing]="isProcessing"
    (photoSelected)="onPhotoSelected($event)"
    (cancelled)="onPhotoCancelled()"
    aria-label="Capturar foto de medicamento"
  ></app-crear-medicamento-foto>

  <!-- Paso 2: Completar formulario con datos extraídos de la foto -->
  <article *ngIf="!photoStep && medicineFormData" class="medicine-form-container">
    <header class="form-header">
      <h2>Revisa y completa los datos</h2>
      <p>Los datos se han extraído automáticamente de la foto</p>
    </header>

    <main class="medicine-form">
      <app-medicine-form
        [initialData]="medicineFormData"
        [isSubmitting]="isSubmitting"
        submitButtonText="Guardar Medicamento"
        cancelButtonText="Volver a capturar foto"
        (formSubmit)="onMedicineFormSubmit($event)"
        (formCancel)="onMedicineFormCancel()"
        aria-label="Formulario de medicamento desde foto"
      ></app-medicine-form>
    </main>
  </article>
</section>