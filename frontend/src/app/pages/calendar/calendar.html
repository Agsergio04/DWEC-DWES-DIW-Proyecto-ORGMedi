<section class="page page--calendar">
  <div class="page__container">
    <div class="calendar__title-section">
      <h1>Calendario</h1>
      <p class="calendar__description">Aquí podrás gestionar cuando has consumido los medicamentos</p>
    </div>

    <app-calendar></app-calendar>


    <div class="calendar__medicines-list">
    
      <!-- Lista de medicamentos o mensaje vacío -->
      <div *ngIf="!loading && medicines.length > 0; else noMedicines" class="medicines__list">
        <app-medicine-card-calendar 
          *ngFor="let medicine of medicines"
          [medicine]="medicine"
          [isExpired]="isExpired(medicine)"
          [isExpiring]="isExpiring(medicine)"
          (medicineEdit)="editMedicine($event)"
          (medicineDelete)="deleteMedicine($event)"
          (medicineSelected)="onMedicineSelected($event)">
        </app-medicine-card-calendar>
      </div>

      <!-- Sin medicamentos -->
      <ng-template #noMedicines>
        <p class="medicines__empty-message">No se han creado medicamentos todavia</p>
      </ng-template>
    </div>
  </div>
</section>

