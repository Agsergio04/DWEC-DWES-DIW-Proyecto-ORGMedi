spring.application.name=orgmedi

# JWT configuration
jwt.secret=${JWT_SECRET:clave_secreta_demo_clave_mucho_mas_larga_0123456789}
jwt.expiration=${JWT_EXPIRATION:86400000}

# Configuración de base de datos H2 (persistencia en archivo)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:h2:file:/data/orgmedi;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE}
spring.datasource.driverClassName=${SPRING_DATASOURCE_DRIVERNAME:org.h2.Driver}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:sa}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}
spring.jpa.database-platform=${SPRING_JPA_DATABASE_PLATFORM:org.hibernate.dialect.H2Dialect}
spring.h2.console.enabled=${SPRING_H2_CONSOLE_ENABLED:true}

# Hibernate
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.defer-datasource-initialization=true
spring.sql.init.mode=never
spring.sql.init.data-locations=classpath:data.sql

# Validación
spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false

# Puerto del servidor
server.port=8080

# Logging
logging.level.root=${SPRING_LOG_LEVEL:INFO}
logging.level.proyecto.orgmedi=${ORGMEDI_LOG_LEVEL:DEBUG}
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web=DEBUG

# Actuator para health checks
management.endpoints.web.exposure.include=health,metrics,prometheus
management.endpoint.health.show-details=always

# CORS
spring.web.cors.allowed-origins=*
spring.web.cors.allowed-methods=*
spring.web.cors.allowed-headers=*
spring.web.cors.max-age=3600

# Timeout
server.servlet.session.timeout=30m
